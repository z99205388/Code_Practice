{% extends "data_visualization/base.html" %}

{% block header %}
<h1>Process Your Data</h1>
{% endblock header %}

{% block content %}
<div class="panel panel-primary">
<div class="panel-heading">
<h3 class="panel-title">Select Data Source</h3>
</div>
<div class="panel-body">

<div class="row">
<div class="col-md-6">
<h4>Upload a File</h4>
<p>Select a data file from your local computer (CSV, JSON, etc.)</p>
<form method="post" enctype="multipart/form-data" class="well">
{% csrf_token %}
<div class="form-group">
<label for="id_file">Data File:</label>
<input type="file" name="data_file" id="id_file" class="form-control" accept=".csv,.json,.txt">
<p class="help-block">Supported formats: CSV, JSON, TXT</p>
</div>

<div class="form-group">
<label for="id_chart_type">Chart Type:</label>
<select name="chart_type" id="id_chart_type" class="form-control">
<option value="line">Line Chart</option>
<option value="bar">Bar Chart</option>
<option value="scatter">Scatter Plot</option>
<option value="histogram">Histogram</option>
<option value="pie">Pie Chart</option>
</select>
</div>

<div class="form-group">
<label for="id_chart_title">Chart Title:</label>
<input type="text" name="chart_title" id="id_chart_title" class="form-control" placeholder="Enter chart title" required>
</div>

<div class="form-group">
<label for="id_description">Description:</label>
<textarea name="description" id="id_description" class="form-control" rows="3" placeholder="Describe your data and chart"></textarea>
</div>

<button type="submit" name="action" value="upload" class="btn btn-primary btn-block">
<span class="glyphicon glyphicon-upload"></span> Upload & Process
</button>
</form>
</div>

<div class="col-md-6">
<h4>Or Use Local File Path</h4>
<p>Enter the full path to a data file on the server</p>
<form method="post" class="well">
{% csrf_token %}
<div class="form-group">
<label for="id_file_path">File Path:</label>
<input type="text" name="file_path" id="id_file_path" class="form-control"
       placeholder="/path/to/your/data/file.csv" value="/home/ubuntu/Code/Code_Practice/Data_Visuallization/plot_temperatures/death_valley_2014.csv">
<p class="help-block">Full path to the data file on the server</p>
</div>

<div class="form-group">
<label for="id_chart_type2">Chart Type:</label>
<select name="chart_type" id="id_chart_type2" class="form-control">
<option value="line">Line Chart</option>
<option value="bar">Bar Chart</option>
<option value="scatter">Scatter Plot</option>
<option value="histogram">Histogram</option>
<option value="pie">Pie Chart</option>
</select>
</div>

<div class="form-group">
<label for="id_chart_title2">Chart Title:</label>
<input type="text" name="chart_title" id="id_chart_title2" class="form-control" placeholder="Enter chart title" required>
</div>

<div class="form-group">
<label for="id_description2">Description:</label>
<textarea name="description" id="id_description2" class="form-control" rows="3" placeholder="Describe your data and chart"></textarea>
</div>

<button type="submit" name="action" value="process" class="btn btn-success btn-block">
<span class="glyphicon glyphicon-play"></span> Process File
</button>
</form>
</div>
</div>

<div class="alert alert-info">
<strong>Tip:</strong> For CSV files, the first row should contain column headers. Charts will be automatically generated based on the data structure.
</div>

</div>
</div>

<div class="text-center">
<a href="{% url 'data_visualization:index' %}" class="btn btn-default">
<span class="glyphicon glyphicon-arrow-left"></span> Back to Gallery
</a>
</div>

{% endblock content %}